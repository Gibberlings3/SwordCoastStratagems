<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>lib_spellstyle function library</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../doc/files/g3readme_cam_022916_dwedit.css" type="text/css" />
<link href="../../doc/files/g3icon.ico" rel="icon" type="image/bmp" />
</head>
<body>
<div id="container">
<div class="ribbon_bubble">
    <div class="ribbon_rectangle">
<h1>lib_spellstyle function library</h1>
</div>
    <div class="ribbon_triangle-l"></div>
    <div class="ribbon_triangle-r"></div>

<div class="section">
<p><strong>Dependencies:</strong> alter_effect, lib_2da, lib_anon, lib_array, lib_fn, lib_ini, lib_sfo, lib_sugar, lib_tools, lib_ui, resolve_spell</p>
</div>

<div class="ribbon_rectangle_h2"><h2>Description</h2> </div>
    <div class="ribbon_triangle_h2-l"></div>
    <div class="ribbon_triangle_h2-r"></div>

<div class="section">
<p>Library to set up the visual and sound style of a spell to match standard templates.</p> </p><p><p>
Styles (at least in the default use) are:
<ul>
<li>mage_[school] (e.g., mage_enchantment), though there is no illusion or conjuration school
<li>cleric_[school], though there is no illusion school
<li>mage_[type], where type is 'blind_deaf', 'mirror_image', 'spook', 'invisibility', 'detect_illusion',
'antimagic', 'ruby_ray', 'confusion', or 'symbol'
</ul></p>
</div>

<div class="ribbon_rectangle_h2"><h2>Public functions</h2> </div>
    <div class="ribbon_triangle_h2-l"></div>
    <div class="ribbon_triangle_h2-r"></div>

<div class="section">
<p><strong>spellstyle_apply_style(arguments:s, style_file:s)=()</strong> patch<br></p><p>As a patch function, apply a style to a spell. 'arguments' is the style, 'style_file' contains the style data.</p>
<p><strong>spellstyle_collect_styles(prototypes:s=".../stratagems-inline/spell_style_prototypes.txt", output_loc:s, output:s)=()</strong> action<br></p><p>Get the actual styles from a list of prototypes (probably not run in live-distributed code). The
default for prototypes is inline in this library.</p>
<p><strong>spellstyle_get_style_data()=(vvc:s, wav:s, glow:s)</strong> patch<br></p><p>Get the style data (if any) for the current spell, as defined by its 'vvc' (an actual
vvc played by opcode 215, or a lighting type from opcode 141), its wav (played by opcode 174),
and its glow (played by opcode 50 or 61).
</p>
<p><strong>spellstyle_identify_style(style_file:s)=(style:s)</strong> patch<br></p><p> Identify a style for the current spell, using 'style_file' as the list of styles</p>
<p><strong>spellstyle_load_styles(file:s)=(style_vvc:a, style_wav:a, style_glow:a)</strong> dimorphic<br></p><p>
 Load in the data in a style list
 </p>
<p><strong>spellstyle_update_style(old_style:s, new_style:s)=()</strong> patch<br></p><p>Update the currently-being-patched spell's style, and log it as updated.</p><p></p>








</div>



</div>
</div>
</body>