//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
////	Dominating gaze
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////
//	Top priority: clerics and people with undead-slaying weapons
/////////////////////////////////////////////////////////////////////////

IF TRIGGER
	TargetBlock(PlayersInOrder)
	TriggerBlock(Charm|MR|SIEnchantment|SpellDeflect|Enemy|Helpless|EasyPlus)
        CheckStatGT(scstarget,0,SAVEVSSPELL)
	OR(4)
		Class(scstarget,CLERIC_ALL)
		HasItem("blun12",scstarget)
		HasItem("blun25",scstarget)
		HasItem("ax1h10",scstarget)
THEN DO
	Action(Ability,VAMPIRE_DOMINATION|150|100)
END

/////////////////////////////////////////////////////////////////////////
//	Then try for anyone you can get
/////////////////////////////////////////////////////////////////////////

IF TRIGGER
	ConditionalTargetBlock(PCsPreferringStrong;!CheckStatGT(scstarget,50,RESISTMAGIC))
	TargetBlock(PCsPreferringStrong)
	TriggerBlock(Charm|MR|SIEnchantment|SpellDeflect|Enemy|Helpless|EasyPlus)
THEN DO
	Action(Ability,VAMPIRE_DOMINATION|100|100)
END

/////////////////////////////////////////////////////////////////////////
//	Burnthru
/////////////////////////////////////////////////////////////////////////

IF TRIGGER
	TargetBlock(PCSpellcasters)
	TriggerBlock(Charm|MR|SIEnchantment|Enemy|Helpless|EasyPlus)
THEN DO
	Action(Ability,VAMPIRE_DOMINATION|100|100)
END

